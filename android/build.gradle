// ==============================================================================
// ๐ LIQUID GLASS SNAP - PROJECT LEVEL GRADLE
// ๐ UPDATED: 2026-02-14 | VERSION: 2.1.0 (BEYOND STABLE)
// ๐ก๏ธ ARCHITECTURE: K2 COMPILER + AGP 9.1.0 + API 36
// ==============================================================================

buildscript {
    // ๐ Kotlin 2.3.10: ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุณุชูุฑ (ุฅุทูุงู 5 ูุจุฑุงูุฑ 2026)
    // ูุฏุนู ูุญุฑู K2 Compiler ุจุงููุงูู ูุณุฑุนุฉ ุจูุงุก ุฎุงุฑูุฉ
    ext.kotlin_version = '2.3.10'
    
    repositories {
        google()
        mavenCentral()
    }

    dependencies {
        // ๐๏ธ AGP 9.1.0: ูุฏุนู Android 16 (API 36) ู Java 17/21
        classpath 'com.android.tools.build:gradle:9.1.0'
        
        // ุฑุจุท ููุชุจุฉ ุงูููุชููู ุงูุฑุณููุฉ
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.buildDir = '../build'
subprojects {
    project.buildDir = "${rootProject.buildDir}/${project.name}"
}
subprojects {
    project.evaluationDependsOn(':app')
}

// ==============================================================================
// ๐ฅ ุงูููุทูุฉ ุงููุญุธูุฑุฉ (The Fix Zone - Ultimate 2026 Edition) ๐ฅ
// ูุฐุง ุงูููุฏ ูู "ุงููุงูุณุชุฑู" ุงูุฐู ููุฑุถ ุงูููุงุนุฏ ุนูู ุฌููุน ุงูููุชุจุงุช ุงูุฎุงุฑุฌูุฉ 
// ููุญู ูุดููุฉ 'compileSdkVersion is not specified' ููุฃุจุฏ.
// ==============================================================================
subprojects {
    afterEvaluate { project ->
        if (project.hasProperty("android")) {
            project.android {
                // 1. ุญู ูุดููุฉ ุงูู Namespace ููููุชุจุงุช ุงููุฏููุฉ ุงูุชู ุชูุชูุฏูุง
                if (namespace == null) {
                    namespace project.group
                }
                
                // 2. ุฅุฌุจุงุฑ ุงูุฌููุน ุนูู ุงูุจูุงุก ุจุงุณุชุฎุฏุงู Android 16 (API 36)
                // ูุฐุง ูุถูู ุฃู ููุชุจุงุช ูุซู connectivity_plus ุณุชุนูู ุบุตุจ ุนููุง
                compileSdkVersion 36
                buildToolsVersion "36.0.0"
                
                // 3. ุชูุญูุฏ ุฅุนุฏุงุฏุงุช ุงูู SDK ูุฌููุน ุฃุฌุฒุงุก ุงููุดุฑูุน
                defaultConfig {
                    minSdkVersion 23 // ุงูุญุฏ ุงูุฃุฏูู ูุนุงู 2026 ูุถูุงู ุฃูุถู ุฃุฏุงุก
                    targetSdkVersion 36
                    
                    // ุชุญุณูู ุฃุฏุงุก ูุนุงูุฌุฉ ุงูู Dexing
                    multiDexEnabled true
                }

                // 4. ุฅุฌุจุงุฑ ุงูุชูุงูู ูุน Java 17 (ุงููุชุทูุจ ูู Gradle 9+)
                compileOptions {
                    sourceCompatibility JavaVersion.VERSION_17
                    targetCompatibility JavaVersion.VERSION_17
                }
            }
        }
    }
}

// ุชูุธูู ูุฎููุงุช ุงูุจูุงุก ุงููุฏููุฉ
tasks.register("clean", Delete) {
    delete rootProject.buildDir
}
